# Clean Architecture with TypeScript

í´ë¦° ì•„í‚¤í…ì²˜ëŠ” `DDD(Domain-driven Design)`ì™€ `MSA(Micro Service Architecture)`ì™€ í•¨ê»˜ ë§ì€ í”„ë¡œì íŠ¸ì—ì„œ í™œìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ì—ì„œëŠ” TypeScriptë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ë™ì¼í•œ ë„ë©”ì¸ì„ ê³µìœ í•˜ëŠ” ë‹¤ì–‘í•œ ì›¹ í´ë¼ì´ì–¸íŠ¸ ì„œë¹„ìŠ¤ë¥¼ ëª¨ë…¸ë ˆí¬ êµ¬ì„±ê³¼ í´ë¦° ì•„í‚¤í…ì²˜ ì„¤ê³„ë¥¼ í†µí•´ì„œ ì„œë¹„ìŠ¤ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ í™•ì¥í•˜ê±°ë‚˜ ìœ ì§€ ë³´ìˆ˜ë¥¼ ìš©ì´í•˜ê²Œ í•˜ëŠ” í•˜ë‚˜ì˜ ì•„ì´ë””ì–´ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

ë§Œì•½, í”„ë¡œì íŠ¸ê°€ ë‹¨ìˆœí•œ UIë¥¼ ë‹¤ë£¨ëŠ” ì‘ì€ ê·œëª¨ì˜ í”„ë¡œì íŠ¸ì´ê±°ë‚˜ API ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ì™€ ë§ì¶¤ìœ¼ë¡œ ëŒ€ì‘ë˜ëŠ” í™˜ê²½ì´ë¼ë©´ í´ë¦° ì•„í‚¤í…ì²˜ ë„ì…ì€ ì˜¤íˆë ¤ ë³´ì¼ëŸ¬ í”Œë ˆì´íŠ¸ ì½”ë“œë¡œ ì¸í•œ ì½”ë“œëŸ‰ ì¦ê°€ì™€ ë³µì¡ì„± ì¦ê°€ë¡œ ì„œë¹„ìŠ¤ì˜ ìœ ì§€ ë³´ìˆ˜ì„±ì´ ë‚˜ë¹ ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìƒ˜í”Œ í”„ë¡œì íŠ¸ëŠ” Yarnì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” `Workspace`ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë…¸ë ˆí¬ë¥¼ êµ¬ì„±í•˜ê³ , íŒ¨í‚¤ì§€ë¡œ í´ë¦° ì•„í‚¤í…ì²˜ì˜ Domains ë ˆì´ì–´ì™€ Adapters ë ˆì´ì–´ë¥¼ êµ¬ì„±í•˜ì˜€ê³  ê°ê°ì˜ ì„œë¹„ìŠ¤ ì—­ì‹œ íŒ¨í‚¤ì§€ë¡œ êµ¬ì„±í•˜ë©° ê° ì„œë¹„ìŠ¤ëŠ” Domains ë ˆì´ì–´ì™€ Adapters ë ˆì´ì–´ì˜ ìš”ì†Œë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê±°ë‚˜ ë˜ëŠ” ìƒì†, í™•ì¥í•˜ì—¬ ì„œë¹„ìŠ¤ë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.

## Languages

- [English](https://github.com/falsy/clean-architecture-with-typescript)
- [í•œê¸€](https://github.com/falsy/clean-architecture-with-typescript/blob/main/README-ko.md)

# Clean Architecture

![Alt Clean architecture](.github/images/clean-architecture.png#gh-light-mode-only)
![Alt Clean architecture](.github/images/clean-architecture-dark.png#gh-dark-mode-only)

ë‹¤ì–‘í•œ ì•„í‚¤í…ì²˜ë“¤ì´ ê·¸ëŸ¬í•˜ë“¯ í´ë¦° ì•„í‚¤í…ì²˜ê°€ ê°–ëŠ” ê¸°ë³¸ ëª©ì ì€ ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ê°ì˜ ê´€ì‹¬ì‚¬ì— ë”°ë¼ ê³„ì¸µì„ ë‚˜ëˆ„ê³  ì„¸ë¶€ êµ¬í˜„ì´ ì•„ë‹Œ ë„ë©”ì¸ ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ê³„í•˜ë©°, ë‚´ë¶€ ì˜ì—­ì´ í”„ë ˆì„ì›Œí¬ë‚˜ ë°ì´í„°ë² ì´ìŠ¤, UI ë“±ì˜ ì™¸ë¶€ ìš”ì†Œì— ì˜ì¡´í•˜ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤.

- ì„¸ë¶€ êµ¬í˜„ ì˜ì—­ê³¼ ë„ë©”ì¸ ì˜ì—­ì„ êµ¬ë¶„í•©ë‹ˆë‹¤.
- ì•„í‚¤í…ì²˜ëŠ” í”„ë ˆì„ì›Œí¬ì— ì˜ì¡´í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- ì™¸ë¶€ ì˜ì—­ì€ ë‚´ë¶€ ì˜ì—­ì— ì˜ì¡´í•  ìˆ˜ ìˆì§€ë§Œ, ë‚´ë¶€ ì˜ì—­ì€ ì™¸ë¶€ ì˜ì—­ì— ì˜ì¡´í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
- ê³ ìˆ˜ì¤€, ì €ìˆ˜ì¤€ ëª¨ë“ˆ ëª¨ë‘ ì¶”ìƒí™”ì— ì˜ì¡´í•©ë‹ˆë‹¤.

## Communitaction Flow

![Alt Communitaction Flow](.github/images/communication-flow.png#gh-light-mode-only)
![Alt Communitaction Flow](.github/images/communication-flow-dark.png#gh-dark-mode-only)

í´ë¦° ì•„í‚¤í…ì²˜ì˜ íë¦„ì„ ê°„ë‹¨í•˜ê²Œ ë‹¤ì´ì–´ê·¸ë¨ìœ¼ë¡œ í‘œí˜„í•˜ë©´ ìœ„ì™€ ê°™ìŠµë‹ˆë‹¤.

# Monorepo

![Alt Monorepo](.github/images/packages.png#gh-light-mode-only)
![Alt Monorepo](.github/images/packages-dark.png#gh-dark-mode-only)

ëª¨ë…¸ë ˆí¬ëŠ” Domains ë ˆì´ì–´ì™€ Adapters ë ˆì´ì–´ ê·¸ë¦¬ê³  ì„œë¹„ìŠ¤ ë ˆì´ì–´ë¥¼ ê°ê° íŒ¨í‚¤ì§€ë¡œ ì˜ì¡´ì„±ì„ ëª…í™•í•˜ê²Œ êµ¬ë¶„í•˜ì˜€ìŠµë‹ˆë‹¤.
ê·¸ë¦¬ê³  ë£¨íŠ¸ì—ì„œëŠ” TypeScript, ESLint, Jestì˜ ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ í•˜ìœ„ íŒ¨í‚¤ì§€ì—ì„œëŠ” í™•ì¥í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# Directory Structure

```
/packages
â”œâ”€ domains
â”‚  â””â”€ src
â”‚     â”œâ”€ aggregates
â”‚     â”œâ”€ entities
â”‚     â”œâ”€ useCases
â”‚     â”œâ”€ vos
â”‚     â”œâ”€ repositories
â”‚     â”‚  â””â”€ interface
â”‚     â””â”€ dtos
â”‚        â””â”€ interface
â”œâ”€ adapters
â”‚  â””â”€ src
â”‚     â”œâ”€ presenters
â”‚     â”œâ”€ repositories
â”‚     â”œâ”€ dtos
â”‚     â””â”€ infrastructures
â”‚        â””â”€ interface
â”œâ”€ client-a
â”‚  â””â”€ src
â”‚     â””â”€ ...
â””â”€ client-b
   â””â”€ src
      â””â”€ ...
```

## Tree Shaking

ìœ„ ìƒ˜í”Œ í”„ë¡œì íŠ¸ì—ì„œëŠ”, ê°ê°ì˜ ì„œë¹„ìŠ¤ íŒ¨í‚¤ì§€ì—ì„œ ê³µìš© íŒ¨í‚¤ì§€(`Domains`, `Adapters`, `ê·¸ ë°–ì˜ ì¶”ê°€ë  ìˆ˜ ìˆëŠ” íŒ¨í‚¤ì§€ë“¤..`)ë¥¼ ì‚¬ìš©í•  ë•Œ ë¹Œë“œëœ ê²°ê³¼ë¬¼ì„ ì°¸ì¡°í•˜ì§€ ì•Šê³  `Source-to-Source` ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ìµœì¢…ì ìœ¼ë¡œ ì„œë¹„ìŠ¤ì˜ ëª¨ë“ˆ ë²ˆë“¤ëŸ¬ê°€ íš¨ê³¼ì ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì½”ë“œë¥¼ ì œê±°í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì—, ê³µìš© íŒ¨í‚¤ì§€ëŠ” ëª¨ë‘ `ES Modules`ë¡œ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤.

> ëŒ€ë¶€ë¶„ì˜ ëª¨ë“ˆ ë²ˆë“¤ëŸ¬ëŠ” ES Modulesë¡œ ì‘ì„±ëœ ì½”ë“œì— ëŒ€í•´ì„œ íŠ¸ë¦¬ì…°ì´í‚¹ì„ ê¸°ë³¸ìœ¼ë¡œ ì§€ì›í•©ë‹ˆë‹¤.

# Domains

ë„ë©”ì¸ ë ˆì´ì–´ì—ì„œëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì •ì˜í•©ë‹ˆë‹¤.

ìƒ˜í”Œ í”„ë¡œì íŠ¸ì˜ ê²½ìš°ì—ëŠ” ê°„ë‹¨í•œ í¬ëŸ¼ ì„œë¹„ìŠ¤ì˜ ì¼ë¶€ë¶„ìœ¼ë¡œ ì‚¬ìš©ìê°€ ê¸€ ëª©ë¡ì„ ë³´ê±°ë‚˜ ê¸€ê³¼ ëŒ“ê¸€ì„ ì‘ì„±í•  ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ëª¨ë…¸ë ˆí¬ë¡œ êµ¬ì„±ëœ í•˜ë‚˜ì˜ íŒ¨í‚¤ì§€ë¡œ Entityì™€ Use Case ê·¸ë¦¬ê³  Value Object ë“±ì˜ ê°’ë“¤ì„ Rollupì„ ì‚¬ìš©í•˜ì—¬ ë¹Œë“œí•˜ë©° í”„ë¡œì íŠ¸ì˜ ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ëŠ” ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë¹„ìŠ¤ë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.

## Entities

EntityëŠ” ë„ë©”ì¸ ëª¨ë¸ë§ì˜ í•µì‹¬ ê°œë… ì¤‘ í•˜ë‚˜ë¡œ, ê³ ìœ í•œ ì‹ë³„ì(Identity)ë¥¼ í†µí•´ ë™ì¼ì„±ì„ ìœ ì§€í•˜ë©´ì„œ ìƒíƒœì™€ í–‰ë™ì„ ê°€ì§€ëŠ” ê°ì²´ì…ë‹ˆë‹¤. EntityëŠ” ë‹¨ìˆœíˆ ë°ì´í„°ë¥¼ ë³´ê´€í•˜ëŠ” êµ¬ì¡°ì²´ê°€ ì•„ë‹ˆë¼, ìì‹ ì˜ ë°ì´í„°ë¥¼ ì§ì ‘ ì œì–´í•˜ê³  ê´€ë¦¬í•˜ëŠ” ì—­í• ì„ í•˜ë©°, ë„ë©”ì¸ ë‚´ì—ì„œ ì¤‘ìš”í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ê³¼ ë¡œì§ì„ í‘œí˜„í•©ë‹ˆë‹¤.

ìƒ˜í”Œ í”„ë¡œì íŠ¸ì—ì„œëŠ” Post, Comment, User ë¼ëŠ” 3ê°œì˜ ì—”í‹°í‹°ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

## Aggregates

![Aggregate](.github/images/aggregate.png#gh-light-mode-only)
![Aggregate](.github/images/aggregate-dark.png#gh-dark-mode-only)

AggregateëŠ” ì—¬ëŸ¬ ì—”í‹°í‹°ì™€ ê°’ ê°ì²´ë¥¼ í¬í•¨í•  ìˆ˜ ìˆëŠ” ì¼ê´€ì„± ê²½ê³„ë¡œ, ë‚´ë¶€ ìƒíƒœë¥¼ ìº¡ìŠí™”í•˜ì—¬ ì™¸ë¶€ì—ì„œì˜ ì ‘ê·¼ì„ ì œì–´í•©ë‹ˆë‹¤. ëª¨ë“  ìˆ˜ì •ì€ ë°˜ë“œì‹œ Aggregate Rootë¥¼ í†µí•´ì„œë§Œ ì´ë£¨ì–´ì§€ë©°, ì´ëŠ” ëª¨ë¸ ë‚´ì˜ ê´€ê³„ ë³µì¡ì„±ì„ ê´€ë¦¬í•˜ê³ , ì„œë¹„ìŠ¤ í™•ì¥ ë° íŠ¸ëœì­ì…˜ ë³µì¡ì„± ì¦ê°€ ì‹œ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.

ìƒ˜í”Œ í”„ë¡œì íŠ¸ì—ì„œëŠ” Postê°€ Aggregateë¡œ ì‚¬ìš©ë˜ì—ˆìœ¼ë©° í•˜ìœ„ì—ëŠ” ì¢…ì†ì ì¸ ê´€ê³„ì˜ Comment ì—”í‹°í‹°ê°€ ìˆìŠµë‹ˆë‹¤. ê·¸ë ‡ê¸°ì— Commentë¥¼ ì¶”ê°€ ë° ë³€ê²½í•˜ê¸° ìœ„í•´ì„œëŠ” Postë¥¼ í†µí•´ì„œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤. ê·¸ë¦¬ê³  Postì˜ ì†ì„±ìœ¼ë¡œ ì‘ì„±ì ì¦‰, ê¸€ì„ ì‘ì„±í•œ ì‚¬ìš©ìì˜ ì •ë³´ê°€ í•„ìš”í•˜ì§€ë§Œ UserëŠ” ë…ë¦½ì ì¸ ì—”í‹°í‹°ì´ê¸° ë•Œë¬¸ì— ì–•ì€ ê´€ê³„ë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•˜ì—¬ Userì˜ id ê°’ê³¼ name ì •ë³´ë§Œì„ Value Objectë¡œ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

## Use Cases

Use CaseëŠ” ì‚¬ìš©ìì™€ ì„œë¹„ìŠ¤ ê°„ì˜ ìƒí˜¸ì‘ìš©ì„ ì •ì˜í•˜ë©°, ë„ë©”ì¸ ê°ì²´(Entity, Aggregate, Value Object)ë¥¼ í™œìš©í•˜ì—¬ ì„œë¹„ìŠ¤ê°€ ì‚¬ìš©ìì—ê²Œ ì œê³µí•´ì•¼ í•˜ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ê¸°ëŠ¥ì„ ëª…í™•í•˜ê²Œ í•©ë‹ˆë‹¤. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ê´€ì ì—ì„œ Use CaseëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ì„ ë¶„ë¦¬í•˜ëŠ” ì—­í• ì„ í•˜ë©°, ì§ì ‘ì ìœ¼ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì œì–´í•˜ê¸°ë³´ë‹¤ëŠ” ë„ë©”ì¸ ê°ì²´ê°€ ê°€ì§„ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ê³¼ ë¡œì§ì„ í™œìš©í•  ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤.

ìƒ˜í”Œ í”„ë¡œì íŠ¸ì—ì„œëŠ” ê°„ë‹¨í•˜ê²Œ ì „ì²´ ìš”ì•½ ê¸€ ë¦¬ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ ê¸€ê³¼ ëŒ“ê¸€ì„ ì¶”ê°€, ì‚­ì œ, ë³€ê²½ê³¼ ê°™ì€ ê°„ë‹¨í•œ ìƒí˜¸ ì‘ìš©ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

## Inversion of Control

![Alt Inversion Of Control](.github/images/inversion-of-control.png#gh-light-mode-only)
![Alt Inversion Of Control](.github/images/inversion-of-control-dark.png#gh-dark-mode-only)

Repositoryì˜ ê²½ìš° Adapter ë ˆì´ì–´ì— í•´ë‹¹í•˜ê¸° ë•Œë¬¸ì— Use Caseì—ì„œëŠ” Repositoryì— ëŒ€í•´ì„œ ì•Œì•„ì„œëŠ” ì•ˆë©ë‹ˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— Use Caseì—ì„œëŠ” Repositoryë¥¼ ì¶”ìƒí™”í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ì§€ê³  êµ¬í˜„í•˜ë©°, ì´ëŠ” ì´í›„ì— `ì˜ì¡´ì„± ì£¼ì…(DI: Dependency Injection)`ë¥¼ í†µí•´ ë™ì‘í•©ë‹ˆë‹¤.

# Adapters

Domainê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ëª¨ë…¸ë ˆí¬ë¡œ í•˜ë‚˜ì˜ íŒ¨í‚¤ì§€ë¡œ êµ¬ì„±í•˜ê³  Rollupìœ¼ë¡œ ë¹Œë“œí•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤. Apapterì—ì„œëŠ” ì¼ë°˜ì ì¸ ê²½ìš°ì˜ Presenterì™€ Repository ê·¸ë¦¬ê³  Infrastructureë¥¼ êµ¬ì„±í•˜ì—¬ ì´í›„ ì„œë¹„ìŠ¤ íŒ¨í‚¤ì§€ì—ì„œ ì´ë¥¼ ìƒì† ë°›ì•„ í™•ì¥í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

## Infrastructures

Infrastructure ë ˆì´ì–´ì—ì„œëŠ” ì›¹ ì„œë¹„ìŠ¤ì—ì„œ ì¼ë°˜ì ìœ¼ë¡œ ë§ì´ ì‚¬ìš©í•˜ëŠ” HTTPë¥¼ ì‚¬ìš©í•œ ì™¸ë¶€ ì„œë²„ì™€ì˜ í†µì‹ ì´ë‚˜ ë˜ëŠ” LocalStorageì™€ ê°™ì€ ë¸Œë¼ìš°ì €ì˜ Web APIì™€ ê°™ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì™¸ë¶€ì™€ì˜ ì—°ê²°ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.

## Repositories

ì¼ë°˜ì ìœ¼ë¡œ ë°±ì—”ë“œì—ì„œ Repository ë ˆì´ì–´ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì™€ ê´€ë ¨ëœ `CRUD` ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©° ë°ì´í„°ì˜ ì €ì¥, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œì™€ ê°™ì€ ê¸°ë³¸ì ì¸ ë°ì´í„° ì¡°ì‘ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ê·¸ëŸ¬í•œ ë°ì´í„°ë² ì´ìŠ¤ì™€ì˜ ìƒí˜¸ì‘ìš©ì„ ì¶”ìƒí™”í•˜ì—¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ì„œ ë°ì´í„° ì €ì¥ì†Œì— ëŒ€í•´ ì•Œ í•„ìš”ê°€ ì—†ë„ë¡ í•©ë‹ˆë‹¤.

ê°™ì€ ì›ë¦¬ë¡œ ìƒ˜í”Œ í”„ë¡œì íŠ¸ì—ì„œ Repository ë ˆì´ì–´ëŠ” API ì„œë²„ì™€ì˜ HTTP í†µì‹ ì— ê´€ë ¨ëœ POST, GET, PUT, DELETE ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©° ê·¸ ìƒí˜¸ì‘ìš©ì„ ì¶”ìƒí™”í•˜ì—¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ì„œëŠ” ë°ì´í„°ì˜ ì¶œì²˜ì— ëŒ€í•´ì„œ ì•Œ í•„ìš”ê°€ ì—†ë„ë¡ í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì™¸ë¶€ ì„œë²„ë¡œë¶€í„° ë°›ì€ ë°ì´í„°ëŠ” `DTO`ë¡œ ìº¡ìŠí™”í•˜ì—¬ ì´ ë°ì´í„°ê°€ í´ë¼ì´ì–¸íŠ¸ ë‚´ë¶€ì—ì„œ ì‚¬ìš©ë  ë•Œì˜ ì•ˆì •ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.

## Presenters

Presenters ë ˆì´ì–´ì—ì„œëŠ” UIì—ì„œ í•„ìš”ë¡œí•˜ëŠ” ë©”ì„œë“œë¥¼ ê°€ì§€ê³  ì‚¬ìš©ìì˜ ìš”ì²­ì„ ì„œë²„ë¡œ ì „ë‹¬í•˜ëŠ” ì—­í• ì„ í•˜ë©°, ìš”ì²­ì— ë”°ë¼ ì—”í‹°í‹° ë°ì´í„°ë¥¼ UIì—ì„œ ì‚¬ìš©ë˜ëŠ” View Modelë¡œ ê°’ì„ ë³€í™˜í•˜ì—¬ ì‘ë‹µí•˜ëŠ” ì—­í• ì„ í•˜ê¸°ë„ í•©ë‹ˆë‹¤.

# Services

ìƒ˜í”Œ í”„ë¡œì íŠ¸ì˜ í´ë¼ì´ì–¸íŠ¸ ì„œë¹„ìŠ¤ëŠ” client-a, client-b ì´ë ‡ê²Œ 2ê°œì˜ ê°„ë‹¨í•œ ì„œë¹„ìŠ¤ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë‘ ì„œë¹„ìŠ¤ ëª¨ë‘ ë™ì¼í•œ ë„ë©”ì¸ ê¸°ë°˜ì˜ ì„œë¹„ìŠ¤ë¡œ UI ì»´í¬ë„ŒíŠ¸ëŠ” [Atomic Design](https://bradfrost.com/blog/post/atomic-web-design/)ì„ ê¸°ë°˜ìœ¼ë¡œ ì„¤ê³„í•˜ì˜€ìŠµë‹ˆë‹¤.

## Client-A

### Use Stack

```
Vite, React, Jotai, Tailwind CSS, Jest, RTL, Cypress
```

client-aëŠ” `Domains`ì™€ `Adapters` ë ˆì´ì–´ì˜ ìš”ì†Œë“¤ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•´ì„œ ìµœì¢…ì ìœ¼ë¡œ `DI`ëœ ìƒìœ„ ë ˆì´ì–´ì˜ ê°ì²´ë¥¼ Reactì˜ Hooksì™€ ì „ì—­ ìƒíƒœ ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ [Jotai](https://jotai.org/)ë¥¼ í™œìš©í•˜ì—¬ ê° ë„ë©”ì¸ì˜ ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ê³  ì´ëŠ” Presenters ë ˆì´ì–´ì˜ ì—­í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

> ê¸°ì¡´ì— Adapters íŒ¨í‚¤ì§€ì—ì„œ Presenters ë””ë ‰í† ë¦¬ë¡œ ëª…ì‹œì ìœ¼ë¡œ Presenters ë ˆì´ì–´ë¥¼ ë‚˜ëˆ„ì—ˆì§€ë§Œ ì´ëŠ” í”„ë ˆì„ì›Œí¬ì— ì˜ì¡´í•˜ì§€ ì•Šì€ ë²”ìš©ì ì¸ Presentersì´ë©°, ìœ„ ìƒ˜í”Œ í”„ë¡œì íŠ¸ì²˜ëŸ¼ Reactë¥¼ ì‚¬ìš©í•˜ëŠ” ì„œë¹„ìŠ¤ì—ì„œëŠ” ê·¸ì— ë¶€í•©í•˜ëŠ” êµ¬ì„±ì„ ìœ„í•´ì„œ ìµœì¢…ì ìœ¼ë¡œ ì˜ì¡´ì„±ì„ ì£¼ì…í•œ Presenters ê°ì²´ì™€ React Hooksì„ í™œìš©í•˜ì—¬ Presenters ì˜ì—­ì„ í™•ì¥ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.

### Dependency Injection

```tsx
import { API_URL } from "../constants"
import repositoriesFn from "./repositories"
import useCasesFn from "./useCases"
import presentersFn from "./presenters"

export default function di() {
  const repositories = repositoriesFn(API_URL)
  const useCases = useCasesFn(repositories)
  const presenters = presentersFn(useCases)

  return presenters
}
```

### Presenters

```tsx
import { useCallback, useMemo, useTransition } from "react"
import { atom, useAtom } from "jotai"
import IPost from "domains/aggregates/interfaces/IPost"
import Post from "domains/aggregates/Post"
import presenters from "../di"

const PostsAtoms = atom<IPost[]>([])

export default function usePosts() {
  const di = useMemo(() => presenters(), [])

  const [posts, setPosts] = useAtom<IPost[]>(PostsAtoms)
  const [isPending, startTransition] = useTransition()

  const getPosts = useCallback(async () => {
    startTransition(async () => {
      const resPosts = await di.post.getPosts()
      setPosts(resPosts)
    })
  }, [di.post, setPosts])

  ...
}
```

## Client-B

### Use Stack

```
Next.js, Jotai, Tailwind CSS, Jest, RTL, Cypress
```

client-b ì„œë¹„ìŠ¤ëŠ” client-a ì„œë¹„ìŠ¤ì™€ ë™ì¼í•œ ë„ë©”ì¸ì„ í™œìš©í•œ, ì„œë¹„ìŠ¤ í™•ì¥ì„ í‘œí˜„í•˜ëŠ” ì„œë¹„ìŠ¤ë¡œ client-a ì„œë¹„ìŠ¤ì™€ ìœ ì‚¬í•˜ì§€ë§Œ client-a ì„œë¹„ìŠ¤ì™€ ë‹¤ë¥´ê²Œ Next.jsë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê¸°ì¡´ì˜ client-a ì„œë¹„ìŠ¤ëŠ” API ì„œë²„ì™€ì˜ HTTP í†µì‹ ì„ í†µí•´ ë°ì´í„°ë¥¼ ì¡°ì‘í•˜ì§€ë§Œ client-bëŠ” HTTP í†µì‹  ì—†ì´ ë¡œì»¬ ì €ì¥ì†Œ(Local Storage)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì„¤ê³„í•˜ì˜€ìŠµë‹ˆë‹¤.

ê·¸ë ‡ê¸° ë•Œë¬¸ì— client-aì™€ ë‹¤ë¥´ê²Œ client-bì—ì„œëŠ” `Domains`ì—ì„œ ì •ì˜í•œ Repositoryì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬ì²´í™”í•œ ìƒˆë¡œìš´ Repositoryë¥¼ êµ¬ì„±í•˜ê³  ì´ë¥¼ ì˜ì¡´ì„± ì£¼ì…í•˜ì—¬ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ê°„ë‹¨í•˜ê²Œ ê¸°ì¡´ì˜ ì„œë¹„ìŠ¤ë¥¼ í™•ì¥í•œ ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## Design System

ìƒ˜í”Œ ì„œë¹„ìŠ¤ì²˜ëŸ¼ ê° ì„œë¹„ìŠ¤ê°€ ë™ì¼í•œ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•œë‹¤ë©´, ëª¨ë…¸ë ˆí¬ êµ¬ì„±ì˜ ì¥ì ì„ í™œìš©í•˜ì—¬ ê³µí†µìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸ë¥¼ ë³„ë„ì˜ íŒ¨í‚¤ì§€ë¡œ êµ¬ì„±í•¨ìœ¼ë¡œì¨ ì»´í¬ë„ŒíŠ¸ì˜ ì¬ì‚¬ìš©ì„±ì„ ë†’ì—¬ ë”ìš± íš¨ê³¼ì ìœ¼ë¡œ ì„œë¹„ìŠ¤ë¥¼ í™•ì¥ ë° ìœ ì§€ ë³´ìˆ˜í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

# ì‹¤í–‰

ìƒ˜í”Œ í”„ë¡œì íŠ¸ëŠ” ë£¨íŠ¸ì— ë“±ë¡ëœ ì»¤ë§¨ë“œë¥¼ í™œìš©í•˜ì—¬ ê° íŒ¨í‚¤ì§€ë¥¼ ë¹Œë“œ ë˜ëŠ” ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ì„¤ì¹˜

```sh
$ yarn install
```

## ì‹¤í–‰

```sh
# client-a
$ yarn start:a

# client-b
$ yarn start:b
```

# Thank You!

ëª¨ë“  ì§€ì›ê³¼ ê´€ì‹¬ì— ê°ì‚¬ë“œë¦½ë‹ˆë‹¤. ğŸ™‡â€â™‚ï¸
